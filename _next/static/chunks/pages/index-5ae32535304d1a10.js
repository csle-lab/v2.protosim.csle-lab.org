(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9758:function(e,t,n){"use strict";e.exports=n(9512)},9512:function(e,t,n){"use strict";var o=n(3454),r=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(void 0===o||void 0===o.domain)throw Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||r.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||r.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||r.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=r.DEFAULT_MAX_PENDING};r.DEFAULT_TIMEOUT=0,r.DEFAULT_MAX_OCCUPATION_TIME=0,r.DEFAULT_MAX_EXECUTION_TIME=0,r.DEFAULT_MAX_PENDING=1e3,r.prototype.acquire=function(e,t,n,r){if(Array.isArray(e))return this._acquireBatch(e,t,n,r);if("function"!=typeof t)throw Error("You must pass a function to execute");var i=null,a=null,s=null;"function"!=typeof n&&(r=n,n=null,s=new this.Promise(function(e,t){i=e,a=t})),r=r||{};var c=!1,u=null,d=null,l=null,m=this,p=function(t,o,r){d&&(clearTimeout(d),d=null),l&&(clearTimeout(l),l=null),t&&(m.queues[e]&&0===m.queues[e].length&&delete m.queues[e],m.domainReentrant&&delete m.domains[e]),c||(s?o?a(o):i(r):"function"==typeof n&&n(o,r),c=!0),t&&m.queues[e]&&m.queues[e].length>0&&m.queues[e].shift()()},h=function(n){if(c)return p(n);u&&(clearTimeout(u),u=null),m.domainReentrant&&n&&(m.domains[e]=o.domain);var i=r.maxExecutionTime||m.maxExecutionTime;if(i&&(l=setTimeout(function(){m.queues[e]&&p(n,Error("Maximum execution time is exceeded "+e))},i)),1===t.length){var a=!1;try{t(function(e,t){a||(a=!0,p(n,e,t))})}catch(e){a||(a=!0,p(n,e))}}else m._promiseTry(function(){return t()}).then(function(e){p(n,void 0,e)},function(e){p(n,e)})};if(m.domainReentrant&&o.domain&&(h=o.domain.bind(h)),m.queues[e]){if(m.domainReentrant&&o.domain&&o.domain===m.domains[e])h(!1);else if(m.queues[e].length>=m.maxPending)p(!1,Error("Too many pending tasks in queue "+e));else{var f=function(){h(!0)};r.skipQueue?m.queues[e].unshift(f):m.queues[e].push(f);var g=r.timeout||m.timeout;g&&(u=setTimeout(function(){u=null,p(!1,Error("async-lock timed out in queue "+e))},g))}}else m.queues[e]=[],h(!0);var y=r.maxOccupationTime||m.maxOccupationTime;if(y&&(d=setTimeout(function(){m.queues[e]&&p(!1,Error("Maximum occupation time is exceeded in queue "+e))},y)),s)return s},r.prototype._acquireBatch=function(e,t,n,o){"function"!=typeof n&&(o=n,n=null);var r=this,i=e.reduceRight(function(e,t){return function(n){r.acquire(t,e,n,o)}},t);if("function"!=typeof n)return new this.Promise(function(e,t){1===i.length?i(function(n,o){n?t(n):e(o)}):e(i())});i(n)},r.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},r.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(e){return this.Promise.reject(e)}},e.exports=r},3454:function(e,t,n){"use strict";var o,r;e.exports=(null==(o=n.g.process)?void 0:o.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(7663)},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1854)}])},3068:function(e,t,n){"use strict";n.d(t,{SE:function(){return u},ST:function(){return m},Yy:function(){return d},Zl:function(){return l}});var o=n(7294),r=n(5489),i=n(67),a=n(2373);let s=e=>{var t,n,o;switch(e.type){case"enterAddressBar":return{message:"アドレスバーで ".concat(e.url," にアクセスした"),body:{url:e.url,valid:e.valid}};case"insertManually":return{message:"".concat("smartphone"===e.device?"スマートフォン":"Web サーバ","の").concat(r.KW[e.protocolIndex],"にデータを流し込んだ: ").concat(e.body),body:{device:e.device,protocolIndex:e.protocolIndex,body:e.body}};case"moveCover":return{message:"フタを".concat(e.isCoverOpen?"開けた":"閉じた"),body:{isCoverOpen:e.isCoverOpen}};case"toggleServer":return{message:"Webサーバのディスプレイを".concat(e.isServerOpen?"点けた":"消した"),body:{}};case"setExplorerPath":return{message:"Webサーバのディスプレイで ".concat(e.path," を開いた"),body:{path:e.path,prevPath:e.prevPath,direction:e.direction}};case"switchRouterArea":return{message:"ルータエリアを ".concat(e.isRouterAreaOpen?"開いた":"閉じた"),body:{isRouterAreaOpen:e.isRouterAreaOpen}};case"hoverRouter":return{message:"".concat(e.ipAddress," のルーターにマウスを").concat("enter"===e.direction?"乗せた":"外した (".concat(Math.round(null!==(t=e.duration)&&void 0!==t?t:-1),"ミリ秒)")),body:{ipAddress:e.ipAddress,direction:e.direction,duration:e.duration}};case"copyRouterIpAddress":return{message:"".concat(e.ipAddress," のルーターから「").concat(e.copiedIpAddress,"」をコピーした"),body:{ipAddress:e.ipAddress,copiedIpAddress:e.copiedIpAddress}};case"openProtocol":return{message:"".concat("smartphone"===e.device?"スマートフォン":"Web サーバ","の").concat(r.KW[e.protocolIndex],"の設定画面を開いた"),body:{device:e.device,protocolIndex:e.protocolIndex}};case"changeProtocol":return{message:"".concat("smartphone"===e.device?"スマートフォン":"Web サーバ","の").concat(r.KW[e.protocolIndex],"のプロトコルを").concat(e.protocol.nameJa,"に変更した"),body:{device:e.device,protocolIndex:e.protocolIndex,protocolName:e.protocol.nameJa}};case"openDataPage":return{message:"".concat("smartphone"===e.device?"スマートフォン":"Web サーバ","で").concat("downToUp"===e.direction?"上":"下","向きの").concat(r.KW[e.protocolIndex],"に流れた情報を観察した"),body:{device:e.device,direction:e.direction,protocolIndex:e.protocolIndex}};case"openPreference":return{message:"設定画面を開いた",body:{}};case"setPacketLoss":return{message:"パケットロス設定を".concat(0===e.packetLoss?"発生無しにした":"発生させるようにした"),body:{packetLoss:e.packetLoss}};case"setProcessSpeed":return{message:"データが流れるスピードを ".concat(e.processSpeed," 段階目に変更した"),body:{processSpeed:e.processSpeed}};case"closeSideArea":return{message:"サイドエリアを閉じた",body:{}};case"hoverTerminology":return{message:"専門用語「".concat(e.text,"」にマウスを").concat("enter"===e.direction?"乗せた":"外した (".concat(Math.round(null!==(n=e.duration)&&void 0!==n?n:-1),"ミリ秒)")),body:{text:e.text,direction:e.direction,duration:e.duration}};case"hoverPosition":return{message:"場所を表す言葉「".concat(e.text,"」にマウスを").concat("enter"===e.direction?"乗せた":"外した (".concat(Math.round(null!==(o=e.duration)&&void 0!==o?o:-1),"ミリ秒)")),body:{position:e.position,text:e.text,direction:e.direction,duration:e.duration}};case"copyUrl":return{message:"URL「".concat(e.url,"」をコピーボタンでコピーした"),body:{url:e.url,parentText:e.parentText}};case"submitTextboxes":return{message:"".concat(e.missionId," のミッションのテキストボックスに ").concat(JSON.stringify(e.values)," と入力された状態で決定ボタンを押した"),body:{missionId:e.missionId,values:e.values}};case"showHint":return{message:"".concat(e.missionId," のミッションの ").concat(e.numVisibleHints," 番目のヒントを表示した"),body:{missionId:e.missionId,numVisibleHints:e.numVisibleHints}}}},c=e=>{switch(e.type){case"achieveMission":return{message:"ミッション ".concat(e.missionId," を達成した (ヒントの数：").concat(e.numHints,")"),body:{missionId:e.missionId,numHints:e.numHints}};case"completePage":return{message:"ページ ".concat(e.pageId," を達成した"),body:{pageId:e.pageId}}}},u=async e=>{let t={type:e.type,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,screen:{width:screen.width,height:screen.height},window:{width:window.innerWidth,height:window.innerHeight},language:await (0,i.G3)(),...s(e)};return await (0,a.uz)("/send_action_log",t)},d=async e=>{let t={type:e.type,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,screen:{width:screen.width,height:screen.height},window:{width:window.innerWidth,height:window.innerHeight},language:await (0,i.G3)(),...c(e)};return await (0,a.uz)("/send_action_log",t)},l=async e=>{let t={type:e.type,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,screen:{width:screen.width,height:screen.height},window:{width:window.innerWidth,height:window.innerHeight},language:await (0,i.G3)()};return await (0,a.uz)("/send_action_log",t)},m=()=>{(0,o.useEffect)(()=>{(async()=>{l({type:"view"})})()},[]),(0,o.useEffect)(()=>{setInterval(async()=>{l({type:"keep"})},1e4)},[])}},6253:function(e,t,n){"use strict";let o;n.d(t,{FW:function(){return u},Pc:function(){return y},bQ:function(){return x},f:function(){return v},jl:function(){return p},kS:function(){return w}});var r=n(9758),i=n.n(r),a=n(7294),s=n(2373);let c=new(i()),u={None:"None",LTI:"LTI"},d=new Date("2000/1/1"),l=async()=>{o=await (0,s.LK)("/get_user"),d=new Date},m=async()=>(await c.acquire("getUserInfo",async()=>{new Date().getTime()-d.getTime()>864e5&&await l()}),o),p=async()=>h(await m())!=u.None,h=e=>null==e?u.None:null!=e.ltiUserInfo?u.LTI:u.None,f=e=>null==e?"":null!=e.ltiUserInfo?e.ltiUserInfo.displayName:"",g=e=>null!=e&&null!=e.ltiUserInfo&&e.ltiUserInfo.isInstructor,y=()=>{let[e,t]=(0,a.useState)(void 0);(0,a.useEffect)(()=>{(async()=>{t(await m())})()},[]);let n=async()=>{await l(),t(await m())},o=h(e),r=f(e),i=g(e);return{userInfo:e,userType:o,displayName:r,isInstructor:i,reloadUserInfo:n}},w=async()=>{await (0,s.uz)("/logout",{})},x=async()=>{await (0,s.uz)("/set_lti",{})},v=async()=>await (0,s.LK)("/instructor/get_memories")},2373:function(e,t,n){"use strict";n.d(t,{LK:function(){return i},uz:function(){return r}});let o="https://v2-backend.protosim.csle-lab.org",r=async(e,t)=>{try{return await fetch(o+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}).then(e=>{})}catch(e){return}},i=async e=>{try{return await fetch(o+e,{method:"GET",credentials:"include"}).then(e=>{if(e.ok)return e.json()}).catch(()=>{})}catch(e){return}}},67:function(e,t,n){"use strict";n.d(t,{G3:function(){return i},Jr:function(){return s},QU:function(){return u},XX:function(){return c},m0:function(){return a}});var o=n(7294);let r="PROTOSIM_LOCALIZE_",i=async()=>{let e=localStorage.getItem(r+"language");return null==e?"ja"===window.navigator.language?"ja":"en":e},a=async e=>{localStorage.setItem(r+"language",e)},s=()=>{let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{t(await i())})()},[]),e},c=(e,t)=>{let n=s();return"ja"===n?e:"en"===n?t:""},u=(e,t,n)=>"ja"===e?t:"en"===e?n:""},5489:function(e,t,n){"use strict";n.d(t,{BY:function(){return a},KW:function(){return i},dt:function(){return r},vJ:function(){return o}});let o={ApplicationLayer:4,TransportLayer:3,InternetLayer:2,NetworkInterfaceLayer:1},r={4:"ApplicationLayer",3:"TransportLayer",2:"InternetLayer",1:"NetworkInterfaceLayer"},i={4:"アプリケーション層",3:"トランスポート層",2:"インターネット層",1:"ネットワークインタフェース層"},a={4:"Application Layer",3:"Transport Layer",2:"Internet Layer",1:"Network Interface Layer"}},1854:function(e,t,n){"use strict";n.r(t);var o=n(5893),r=n(9008),i=n.n(r),a=n(3068),s=n(6253),c=n(67),u=n(6338),d=n.n(u);t.default=()=>{let e=(0,c.Jr)(),{userType:t,displayName:n,reloadUserInfo:r}=(0,s.Pc)();(0,a.ST)();let u=async()=>{await (0,a.Zl)({type:"logout"}),await (0,s.kS)(),await r()},l="ja"===e?"通信プロトコルシミュレータ「ProtoSim」 | 触ってわかる、ネットワークの仕組み。":"en"===e?'Communication Protocol Simulator "ProtoSim" | Understand by Interacting: The Mechanism of Network':"ProtoSim";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:l}),(0,o.jsx)("meta",{name:"description",content:"通信プロトコルシミュレータ「ProtoSim」では、ネットワークシミュレータを触りながら、ネットワークの仕組みを理解することができます。"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{property:"og:title",content:l}),(0,o.jsx)("meta",{property:"og:description",content:"通信プロトコルシミュレータ「ProtoSim」では、ネットワークシミュレータを触りながら、ネットワークの仕組みを理解することができます。"}),(0,o.jsx)("meta",{property:"og:url",content:"https://v2.protosim.csle-lab.org"}),(0,o.jsx)("meta",{property:"og:site_name",content:"ProtoSim"}),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"og:image",content:"https://v2.protosim.csle-lab.org/ogp.png"})]}),(0,o.jsxs)("div",{className:d().outer,children:[(0,o.jsx)("header",{className:d().header,children:(0,o.jsx)("h1",{children:(0,o.jsx)("img",{src:"./image/logo.svg",alt:"ProtoSim"})})}),(0,o.jsxs)("main",{className:d().main,children:[(0,o.jsxs)("h2",{children:[(0,c.QU)(e,"触ってわかる、","Understand by Interacting:"),(0,o.jsx)("br",{}),(0,c.QU)(e,"ネットワークの仕組み。","The Mechanism of Network")]}),(0,o.jsxs)("div",{children:[t===s.FW.None&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)("a",{className:d().button,href:"./app",children:(0,o.jsx)("span",{children:(0,c.QU)(e,"今すぐ始める","Start Now")})})}),!1]}),t===s.FW.LTI&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)("a",{className:d().button,href:"./app",children:(0,o.jsx)("span",{children:(0,c.QU)(e,"ユーザ ".concat(n," として今すぐ始める"),"Start Now as a User: ".concat(n))})})}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:d().button2,type:"button",onClick:e=>u(),children:(0,c.QU)(e,"ログアウト","Logout")})})]})]})]}),(0,o.jsxs)("footer",{className:d().footer,children:[(0,c.QU)(e,"ProtoSim（プロトシム）は、ネットワークの仕組みを解き明かすミッションをクリアしていく通信プロトコルシミュレータです。","ProtoSim is a communication protocol simulator in which you clear missions to uncover the mechanisms of networking."),(0,o.jsx)("br",{}),(0,c.QU)(e,"このバージョン 2 では新たなミッションを加え、わかりやすさはそのままにより多くの学習項目をカバーしています。","In this version 2, new missions have been added, expanding the range of learning topics while maintaining clarity.")]})]})]})}},6338:function(e){e.exports={outer:"Top_outer__crbgF",header:"Top_header__88orJ",main:"Top_main__yhj3_",button:"Top_button__DDkXm",button2:"Top_button2__Q0JyA",footer:"Top_footer__4FPS8"}},7663:function(e){!function(){var t={229:function(e){var t,n,o,r=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c=[],u=!1,d=-1;function l(){u&&o&&(u=!1,o.length?c=o.concat(c):d=-1,c.length&&m())}function m(){if(!u){var e=s(l);u=!0;for(var t=c.length;t;){for(o=c,c=[];++d<t;)o&&o[d].run();d=-1,t=c.length}o=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,o),a=!1}finally{a&&delete n[e]}return i.exports}o.ab="//";var r=o(229);e.exports=r}()},9008:function(e,t,n){e.exports=n(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);